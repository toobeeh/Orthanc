<!doctype html>
<html>
<head>
    <!-- pls DONT read this, its A MESS -->
    <meta charset="utf-8">
    <style id="sliderThumbColorStyle"></style>
    <link rel="stylesheet" type="text/css" href="popup.css">
    <title>Skribbltypo How-To</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <style>
        body{
            min-height: 100%;
            width:100%;
        }

        .info{
            font-size:1.5em;
            /* font-weight:600; */
            padding:2em;
        }

        .prevContainer > div{
            margin:2em;
            width:250px;
            border: 2px solid #7289da;
            border-radius:6px;
        }
        .prevContainer{
            display:flex;
            flex-wrap:wrap;
            align-items: center;
            justify-content: space-around;
        }
        .flexcenter{
            justify-content: center;
        }


        .img{
            max-height:20em; width: auto; margin:1em;object-fit:contain;
        }
        ul {
            font-size: 1.5em;
            margin: 0.5em;
        }

    </style>
</head>
<body>
    <h1>
        <button type="button" class="skribbl" id="github">GitHub</button>
        <button type="button" class="skribbl" id="store">Install</button>
        <button type="button" class="skribbl active" id="">Manual</button>
        <button type="button" class="skribbl" id="admin">Admin</button>
    </h1>
    <br>
    <div class="flexcenter flexrow">
        <button type="button" class="skribbl active" id="interface">Extension interface</button>
        <button type="button" class="skribbl" id="bot">Palantir Discord bot</button>
        <button type="button" class="skribbl" id="complete">All features</button>
        <a href="./sprites/gif/"><button type="button" class="skribbl" id="">Sprites</button></a>
    </div>
    <div class="prevContainer" id="manualInterface">
        <div class="dummy">
            <h1>Skribbl Typo</h1>
            <div class="tabSelection flexrow skribbl sketchful">
                <div class="tabTitle skribbl" id="tabDashboard">Dashboard</div>
                <div class="tabTitle tabActive " id="tabDiscord">Discord</div>
                <div class="tabTitle skribbl" id="tabAdvanced">Advanced</div>
            </div>
            <div class="tabContent skribbl sketchful">
                <div id="palantirSettings" class="sketchful skribbl">
                    <br />
                    <br />
                    <div id="sketchfulInfo" class="sketchful">
                        <div id="sketchfulLogin" class="label back"></div>
                        <div class="flexrow flexrowMenu" style="flex-wrap:wrap" id="sketchfulGuilds">
                            <div class="label">No servers added! <br />Enter a server token on skribbl.</div>
                        </div>
                        <div class="flexrow flexrowMenu">
                            <button type="button" id="palantirToggleSketchful">Discord Bot Status</button>
                        </div>
                    </div>
                    <div id="login" class="skribbl">
                        <div id="loginHead" class="label back">Enter your login:</div>
                        <div class="flexrow flexrowMenu">
                            <input type="text" autocomplete="off" style="width:5em" id="loginEnter" placeholder="12345678" />
                            <button type="button" class="active" id="loginSubmit">Login</button>
                        </div>
                    </div>

                    <div id="server" class="skribbl" style="display:none">
                        <div id="loginName" class="label">Tobeh#7437</div>
                        <div class="label back">Connected Discord Servers</div><br />

                        <div class="flexrow flexrowMenu" style="flex-wrap:wrap" id="authGuilds">
                            <div class="label">No servers added! Enter a server token below</div>
                        </div>
                        <br />
                        <div class="flexrow flexrowMenu">
                            <input type="text" autocomplete="off" style="width:5em" id="observeToken" placeholder="12345678" />
                            <button type="button" class="active" id="verifyToken">Verify</button>
                        </div>
                        <br />
                    </div>
                    <br />
                    <br />

                </div>
            </div>
            <br />
            <hr class="skribbl" />
            <div id="footer" class="flexcol">
                <button type="button" class="active" id="help">How-To</button>
                <div id="dc" class="flexrow">
                    <img src="dc.gif" height="20" />
                    <div id="credits" style="margin-left:1em;">
                        Discord: tobeh#7437
                    </div>
                </div>
            </div>
        </div>
        <div class="dummy">
            <h1>Skribbl Typo</h1>
            <div class="tabSelection flexrow skribbl sketchful">
                <div class="tabTitle tabActive skribbl" id="tabDashboard">Dashboard</div>
                <div class="tabTitle" id="tabDiscord">Discord</div>
                <div class="tabTitle skribbl  " id="tabAdvanced">Advanced</div>
            </div>
            <div class="tabContent skribbl sketchful">
                <div id="mainSettings" class="skribbl">
                    <br />
                    <br />
                    <div class="flexcol">
                        <div class="flexrow flexrowMenu">
                            <button type="button" id="imageagent">ImageAgent</button>
                            <button type="button" id="tablet">Tablet</button>
                        </div>
                        <div class="flexrow flexrowMenu">
                            <button type="button" id="markup">Markup</button>
                            <!--<button type="button" id="holy">Holy</button>-->
                        </div>
                        <div class="flexrow flexrowMenu">
                            <button type="button" id="backbutton">Back-Button</button>
                            <button type="button" id="charbar">CharBar</button>
                        </div>
                        <div class="flexrow flexrowMenu">
                            <button type="button" id="randomToggle">Random Color</button>
                        </div>
                        <div class="flexrow flexrowMenu">
                            <button type="button" id="palantirToggle">Discord Bot Status</button>
                        </div>
                    </div>
                    <br />
                    <br />
                </div>
            </div>
            <br />
            <hr class="skribbl" />
            <div id="footer" class="flexcol">
                <button type="button" class="active" id="help">How-To</button>
                <div id="dc" class="flexrow">
                    <img src="dc.gif" height="20" />
                    <div id="credits" style="margin-left:1em;">
                        Discord: tobeh#7437
                    </div>
                </div>
            </div>
        </div>
        <div class="dummy">
            <h1>Skribbl Typo</h1>
            <div class="tabSelection flexrow skribbl sketchful">
                <div class="tabTitle skribbl" id="tabDashboard">Dashboard</div>
                <div class="tabTitle" id="tabDiscord">Discord</div>
                <div class="tabTitle tabActive skribbl" id="tabAdvanced">Advanced</div>
            </div>
            <div class="tabContent skribbl sketchful">
                <div id="advancedSettings" class="skribbl">
                    <br />
                    <br />
                    <div class="flexcol">
                        <div class="label">Random interval </div>
                        <div class="sliderBox" id="randomSlider">
                            <span class="sliderBar"><span class="sliderFill"></span></span>
                            <input type="range" class="slider" min="10" max="500" />
                        </div>

                        <div class="label">Markup color  </div>
                        <div class="sliderBox" id="markupSlider">
                            <span class="sliderBar"><span class="sliderFill"></span></span>
                            <input type="range" class="slider" min="0" max="357" />
                        </div>

                        <div class="label">Tablet sensitivity  </div>
                        <div class="sliderBox" id="sensSlider">
                            <span class="sliderBar"><span class="sliderFill"></span></span>
                            <input type="range" class="slider" min="0" max="100" />
                        </div>

                        <div>
                            <div class="label">Color palettes</div>
                            <div class="flexrow flexrowMenu skribbl" style="flex-wrap:wrap" id="palettes">
                                <button type="button" id="originalPalette">Original Palette</button>
                            </div>
                            <div class="flexrow flexrowMenu">
                                <input type="text" autocomplete="off" style="width:5em" id="paletteJSON" placeholder="{ ... }" /> 
                                <button type="button" class="active" id="enterJSON">Add</button>
                            </div>
                        </div>
                    </div>
                    <br />
                    <br />
                </div>
            </div>
            <br />
            <hr class="skribbl" />
            <div id="footer" class="flexcol">
                <button type="button" class="active" id="help">How-To</button>
                <div id="dc" class="flexrow">
                    <img src="dc.gif" height="20" />
                    <div id="credits" style="margin-left:1em;">
                        Discord: tobeh#7437
                    </div>
                </div>
            </div>
        </div>
        <div class="info">
            Click any button!
        </div>
    </div>
    <div class="prevContainer flexcol" style="display:none" id="manualComplete">
        <div class="flexcol" style="width:auto" >
            <h1>Drawing</h1>
           <ul>
               <li>Pressure sensitivity (Windows Ink required)</li>
               <li>Free Draw Mode (Click the avatar on the skribbl frontpage)</li>
               <li>Back-Button to undo last step (not 100% stable)</li>
               <li>Rainbow-Color brush to switch colors automatically (Click the dice in the color field)</li>
               <li>Color pipette (Shortcut "C")</li>
               <li>Bigger color palette (only extension users see those)</li>
               <li>Clear-Shortcut "ESC"</li>
           </ul>
        </div>
        <div class="flexcol" style="width:auto" >
            <h1>Palantir Discord bot</h1>
           <ul>
               <li>Send your lobby to your favourite discord servers</li>
               <li>See who of your friends is playing and search automatically for them</li>
               <li>Collect Bubbles and unlock sprites to upgrade your avatar</li>
               <li>Prove quick ration time and collect drops for extra bubbles</li>
               <li>Participate events to unlok seasonal sprites</li>
           </ul>
        </div>
        <div class="flexcol" style="width:auto" >
            <h1>Image</h1>
           <ul>
               <li>Download image as PNG</li>
               <li>Save drawing process animation as GIF</li>
               <li>Copy other drawings to be automatically re-drawn (ImageTools)</li>
           </ul>
        </div>
        <div class="flexcol" style="width:auto" >
            <h1>Interface improvements</h1>
           <ul>
               <li>CharBar shows if the typed guess fits the hints and the word length</li>
               <li>Up/Down keys to get the last chat input</li>
               <li>Show a template picture of a term (ImageAgent)</li>
               <li>Highlight your messages in the chat</li>
           </ul>
        </div>
        <div class="flexcol" style="width:auto" >
            <h1>Lobby search</h1>
           <ul>
               <li>Search for one or more player names</li>
               <li>Buttons to exit / skip current lobby</li>
               <li>Skip empty lobbies</li>
           </ul>
        </div>
    </div>
    <div class="prevContainer flexcol" style="display:none" id="manualBot">
        <div class="flexcol" style="width:auto" >
            <h1>How it works</h1>
            <div class="flexrow">
                <div class="flexcol">
                    <img class="img" src='d1.png' >
                    <div class="label">Online players on skribbl will show up in discord.</div>
                </div>
                <div class="flexcol">
                    <img class="img" src='d2.png' >
                    <div class="label">Skribbl is enabled to directly search the lobby.</div>
                </div>
            </div>
        </div>
        <div class="flexcol" style="width:auto" >
            <h1>Connect the bot</h1>
            <div class="flexrow">
                <div class="flexcol">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/Tt8eb3v6UwE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="flexcol">
                    <ul>
                        <li>Watch the tutorial to connect to the Palantir bot!</li>
                        <li>Enable captions to see the full instructions.</li>
                        <li>If you are'nt member of a discord server which uses Palantir,<br> feel free to invite the Bot to your server!</li>
                        <li>Check out the "Admin" page.</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="flexcol" style="width:auto" >
            <h1>Bubble & sprite commands</h1>
            <div class="flexcol">
                <div class="">
                    <div class="label back">>bubbles</div>
                    <div class="label">
                        Show a manual how bubbles, sprites and drops work.
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>sprite [id]</div>
                    <div class="label">
                        Show the sprite of the parameter id.<br>
                        Look at all sprites using the link in the response.<br>
                        Example: >sprite 1
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>buy [id]</div>
                    <div class="label">
                        Buy the sprite of the parameter id.<br>
                        This will consume bubbles!<br>
                        Example: >buy 1
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>use [id]</div>
                    <div class="label">
                        Use the sprite of the parameter id.<br>
                        You have to own the sprite!<br>
                        Example: >use 1
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>inventory</div>
                    <div class="label">
                        Show your inventory.<br>
                        This will list your sprites, bubbles and drops.<br>
                        Example: >inventory
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>leaderboard</div>
                    <div class="label">
                        Show the bubble-leaderboard of members of your Discord server.<br>
                        Example: >leaderboard
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>stat</div>
                    <div class="label">
                        Show your bubble-statistic for the last 20 days.<br>
                        Example: >stat
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>calc [sprite/rank/bubbles] [value]</div>
                    <div class="label">
                        Calculate the time to get an amount of bubbles, a sprite or catch up a rank.<br>
                        Use the command to get more information.<br>
                        Example: >calc
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>newevent [name] [duration days] [valid in days] [description]</div>
                    <div class="label">
                        Create a new seasonal event.<br>
                        This is only usable by the bot creator.<br>
                        Example: >newevent Hungry?! 7 0 A pilot-event. 
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>eventdrop [event id] [name]</div>
                    <div class="label">
                        Add a seasonal drop to an event.<br>
                        Send a gif as attachment which will be used as drop. <br>
                        This is only usable by the bot creator.<br>
                        Example: >eventdrop 1 Pizza
                    </div>
                </div>
                <br>
                <div class="">
                    <div class="label back">>eventsprite [event drop id] [name] [price]</div>
                    <div class="label">
                        Add a seasonal sprite to an event.<br>
                        Send a gif as attachment which will be used as drop. <br>
                        This is only usable by the bot creator.<br>
                        Example: >eventsprite 1 Spaghettimonster 20
                    </div>
                </div>
                <br>
            </div>
        </div>
    </div>
    <script>

        document.querySelectorAll("button, input[type='range']").forEach((o)=>{
            o.addEventListener("click", setInfo);
            o.addEventListener("input", setInfo);
        });

        function setInfo(e){
            let info = document.querySelector(".info");
            if(this.id == 'imageagent'){
                info.innerHTML = "ImageAgent <br><br>"
                info.innerHTML += "When it's your turn to draw, you can choose to display a small picture of the term to draw above the chat.";
                info.innerHTML += "<br>You can choose between topics (logo, flag, or just the term) or enter your own term to search.<br><br>"
                info.innerHTML += "Click on the image to show the next search result."
            }
            if(this.id == 'tablet'){
                info.innerHTML = "Tablet <br><br>"
                info.innerHTML += "Tablet support! Enables pressure sensitivity of your graphics tablet.<br>";
            }
            if(this.id == 'markup'){
                info.innerHTML = "Markup <br><br>"
                info.innerHTML += "Changes the background color of your chat messages so it's easier for you to keep view.<br>";
            }
            if(this.id == 'holy'){
                info.innerHTML = "Holy <br><br>"
                info.innerHTML += "Nothing except a small ego boost :D.<br>";
            }
            if(this.id == 'originalPalette'){
                info.innerHTML = "Original Palette<br><br>"
                info.innerHTML += "Choose of color palettes! Default palette is the original skribbl palette. <br>Get more colors by choosing the sketchful palette!<br>";
            }
            if(this.id == 'paletteJSON' || this.id == 'enterJSON'){
                info.innerHTML = "Palette JSON <br><br>"
                info.innerHTML += "Create a custom color palette!<br>The palette has to be created in JSON format, example given:<br>" 
                            + '{"rowCount":13, "name":"sketchfulPalette", "colors":[{"color":"rgb(255, 255, 255)","index":100},{"color":"rgb(211, 209, 210)","index":101},{"color":"rgb(247, 15, 15)","index":102},{"color":"rgb(255, 114, 0)","index":103},{"color":"rgb(252, 231, 0)","index":104},{"color":"rgb(2, 203, 0)","index":105}]}<br>'
                            + "That's an incomplete sketchful palette.<br>"
                            + "The JSON has to contain following things:<br>"
                            +"- rowCount: the count of color boxes in a row, important for the formatting<br>"
                            +"- name: the name of the palette; just don't choose anything too fancy<br>"
                            +"- colors: the colors. They contain of two things:<br>"
                            +"- index: rather an id than index, but that's how it is called in skribbl. Important that NONE of your colors have an index of a color of another palette! <br>Skribbl colors have indexes from 0-20, the sketchful palette from 100 to 138. Choose anything else.<br>"
                            +"- color: your color. Can be in hex, rgb, anything (rgba didn't work).<br>";
            }
            if(this.id == 'backbutton'){
                info.innerHTML = "BackButton <br><br>"
                info.innerHTML += "Shows a beta-backbutton.<br>This is kinda hacky and just redraws the whole image.";
                info.innerHTML += "<br>Sadly also still buggy.";
            }
            if(this.id == 'charbar'){
                info.innerHTML = "CharBar <br><br>"
                info.innerHTML += "Displays a small field under the chat input. The color indicates if the typed text matches the word length/hints.";
            }
            if(this.id == 'randomToggle'){
                info.innerHTML = "Random Color <br><br>"
                info.innerHTML += "Switches the brush color automatically (VERY fast). Doesn't set white.<br>";
                info.innerHTML += "<br>Click the dice in the color field to activate and click any color to deactivate.";
            }
            if(this.id == 'palantirToggle'){
                info.innerHTML = "Discord Lobbies <br><br>"
                info.innerHTML += "If activated, your lobby will show up in the bot message of any of your added discord servers.<br>";
                info.innerHTML += "If you want to stay inconito, turn this off - especially in private lobbies.";
            }
            if(this.id == 'help'){
                info.innerHTML = "Hello there! ❤️<br><br>"
                info.innerHTML += "Pls gift me nitro :*";
            }
            if(this.id == 'loginSubmit'){
                info.innerHTML = "Login <br><br>"
                info.innerHTML += "Connect to the discord bot to show and send active lobbies.<br>";
                info.innerHTML += "Message the Palantir bot '>login' and enter the login number here.<br>";
            }
            if(this.id == 'loginSubmit'){
                info.innerHTML = "Login <br><br>"
                info.innerHTML += "Connect to the discord bot to show and send active lobbies.<br>";
                info.innerHTML += "Message the Palantir bot '>login' and enter the login number here.<br>";
            }
            if(this.id == 'verifyToken'){
                info.innerHTML = "Verify <br><br>"
                info.innerHTML += "Add a discord server which you would like to send and see active lobbies.<br>";
                info.innerHTML += "Copy the server token from the bot message or ask your server admin about it.<br>";
            }
            if(this.parentElement.id == 'sensSlider'){
                info.innerHTML = "Sensitivity <br><br>"
                info.innerHTML += "Set the pressure sensitivity of the tablet.<br>";
                info.innerHTML += "Very low will probably fit best; check out your graphics tablet driver for deeper control.<br>";
            }
            if(this.parentElement.id == 'markupSlider'){
                info.innerHTML = "Markup Color <br><br>"
                info.innerHTML += "Set color of the markup for your chat messages.<br>";
                info.innerHTML += "The slider thumb indicates the selected color.<br>";
            }
            if(this.parentElement.id == 'randomSlider'){
                info.innerHTML = "Random Interval <br><br>"
                info.innerHTML += "Sets the interval of random color switches.<br>";
                info.innerHTML += "Minimum is 10ms, maximum 500ms.<br>";
            }
            if(this.id == 'github'){
                window.location.href = 'https://github.com/toobeeh/';
            }
            if(this.id == 'admin'){
                window.location.href = 'bot';
            }
            if(this.id == 'store'){
                window.location.href = 'https://chrome.google.com/webstore/detail/skribbl-typo/bpcilmjlpebjklinlbdjhfkkgmmfghfj';
            }
            if(this.id == 'interface'){
                document.querySelector("#bot").classList.remove("active");
                document.querySelector("#interface").classList.add("active");
                document.querySelector("#complete").classList.remove("active");
                document.querySelector("#manualInterface").style.display="flex";
                document.querySelector("#manualBot").style.display="none";
                document.querySelector("#manualComplete").style.display="none";
            }
            if(this.id == 'bot'){
                document.querySelector("#bot").classList.add("active");
                document.querySelector("#interface").classList.remove("active");
                document.querySelector("#complete").classList.remove("active");
                document.querySelector("#manualInterface").style.display="none";
                document.querySelector("#manualBot").style.display="flex";
                document.querySelector("#manualComplete").style.display="none";
            }
            if(this.id == 'complete'){
                document.querySelector("#bot").classList.remove("active");
                document.querySelector("#interface").classList.remove("active");
                document.querySelector("#complete").classList.add("active");
                document.querySelector("#manualInterface").style.display="none";
                document.querySelector("#manualBot").style.display="none";
                document.querySelector("#manualComplete").style.display="flex";
            }
        }

    </script>
</body>
</html>
